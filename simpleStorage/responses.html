<!DOCTYPE html>
<html>
    <head>
        <title>Simple CSS that displays Locally-Stored Answers</title>
        <!-- This meta tag make the text scale correctly on desktop AND mobile browsers. -->
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <!-- This link and 2 scripts load the Bootstrap CSS stylesheet -->
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
    </head>
    
    <body>
        <nav class="navbar navbar-expand-md navbar-dark bg-primary">
            <div class="container-fluid">
                <a class="navbar-brand" href="#">Advanced CS Reflection Responses</a>
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#myNavbar">
                    <span class="navbar-toggler-icon"></span> 
                </button>
                <div class="collapse navbar-collapse" id="myNavbar">
                    <ul class="nav navbar-nav">
                        <li><a class="nav-link" href="index.html">Form</a></li>
                    </ul>
                </div>
    
            </div>
        </nav>

        <br>

        <div class="container-fluid">

            <div class="alert alert-primary" role="alert">
                These are the last responses to the form.
            </div>

            <form>
                <div class="form-group">
                    <label for="dataObjectAsString">dataObjectAsString:</label>
                    <textarea id="dataObjectAsString" rows="3"></textarea>
                </div>

                <div class="form-group">
                    <label for="knowledge">knowledge:</label>
                    <textarea id="knowledge" rows="1"></textarea>
                </div>

                <div class="form-group">
                    <label for="skills">skills:</label>
                    <textarea id="skills" rows="1"></textarea>
                </div>

                <div class="form-group">
                    <label for="different">different:</label>
                    <textarea id="different" rows="1"></textarea>
                </div>

                <div class="form-group">
                    <label for="accomplishment">accomplishment:</label>
                    <textarea id="accomplishment" rows="1"></textarea>
                </div>

                <div class="form-group">
                    <label for="improve">improve:</label>
                    <textarea id="improve" rows="1"></textarea>
                </div>

                <div class="form-group">
                    <label for="collaborate">collaborate:</label>
                    <textarea id="collaborate" rows="1"></textarea>
                </div>

                <div class="form-group">
                    <label for="feedback">feedback:</label>
                    <textarea id="feedback" rows="1"></textarea>
                </div>

                <div class="form-group">
                    <label for="whyNoFeedback">whyNoFeedback:</label>
                    <textarea id="whyNoFeedback" rows="1"></textarea>
                </div>
            </form>
        </div>

        <script>
            window.onload = function() { // Runs code on load
                fillFromLocalStorage();
            };

            function fillFromLocalStorage() {
                // Get the data object string from local storage and try to turn it back into an object.
                // This takes the data from local storage and sets the textbox to the values.
                var dataObjectAsString = window.localStorage.getItem("data");
                if (dataObjectAsString === null) {
                    return;
                }
                var dataObject = JSON.parse(dataObjectAsString);
                if (dataObject === null) {
                    return;
                }

                // We successfully got a data object and now textbox's can get the saved values.
                document.getElementById("dataObjectAsString").value = dataObjectAsString;
                document.getElementById("knowledge").value = dataObject.knowledge;
                document.getElementById("skills").value = dataObject.skills;
                document.getElementById("different").value = dataObject.different;
                document.getElementById("accomplishment").value = dataObject.accomplishment;
                document.getElementById("improve").value = dataObject.improve;
                document.getElementById("collaborate").value = dataObject.collaborate;
                document.getElementById("feedback").value = dataObject.feedback;
                document.getElementById("whyNoFeedback").value = dataObject.whyNoFeedback;
            }

        </script>

    </body>
</html>

